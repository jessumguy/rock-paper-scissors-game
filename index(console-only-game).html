<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock Paper Scissors</title>
</head>
<body>
  <script>

    const game = () => {
      let playerScore = 0;
      let computerScore = 0;
      let drawScore = 0;
      let keepPlaying = true;
      
      for (gameRound = 0; gameRound < 5 && (keepPlaying === true); gameRound++) {  
        switch(playRound()) {
          case (roundResult = 'WIN'):
            playerScore++;
            console.log(`Round ${gameRound + 1} Won!, Player Score: ${playerScore}, Computer Score: ${computerScore}`)
            break;
          case (roundResult = 'LOSS'):
            computerScore++;
            console.log(`Round ${gameRound + 1} Loss!, Player Score: ${playerScore}, Computer Score: ${computerScore}`)
            break;
          case (roundResult = 'DRAW'):
            drawScore++;
            console.log(`Round ${gameRound + 1} Draw!, Player Score: ${playerScore}, Computer Score: ${computerScore}`)
            break;
          case (playerSelection = null):
            keepPlaying = false;
            alert("You have left the game!");
            console.log(`You have left the game; ggnore`)
            break;
        }
      }

      if (playerScore > computerScore) {
        console.log (`Game Won! Rounds Won: ${playerScore}, Rounds Loss: ${computerScore}, Rounds Draw: ${drawScore}`)
      } else if (playerScore < computerScore) {
        console.log (`Game Loss! Rounds Won: ${playerScore}, Rounds Loss: ${computerScore}, Rounds Draw: ${drawScore}`)
      } else {
        console.log (`Game Draw! Rounds Won: ${playerScore}, Rounds Loss: ${computerScore}, Rounds Draw: ${drawScore}`)
      }
    }
    
    
    const playRound = () => {
      let playerSelection = playerPlay();
      let computerSelection = computerPlay();
      let roundResult;

      if (playerSelection === computerSelection) {
        console.log(`Draw!`)
        return roundResult = 'DRAW';
      } else {
        switch (playerSelection) {
          case 'rock':
            if (computerSelection === 'paper') {
              console.log(`You Lose! ${computerSelection} beats ${playerSelection}`)
              return roundResult = 'LOSS';
            } else {
              console.log(`You Win! ${playerSelection} beats ${computerSelection}`)
              return roundResult = 'WIN'
            }
            break;
          case 'paper':
            if (computerSelection === 'scissors') {
              console.log(`You Lose! ${computerSelection} beats ${playerSelection}`)
              return roundResult = 'LOSS';
            } else {
              console.log(`You Win! ${playerSelection} beats ${computerSelection}`)
              return roundResult = 'WIN'
            }
            break;
          case 'scissors':
            if (computerSelection === 'rock') {
              console.log(`You Lose! ${computerSelection} beats ${playerSelection}`)
              return roundResult = 'LOSS';
            } else {
              console.log(`You Win! ${playerSelection} beats ${computerSelection}`)
              return roundResult = 'WIN';
            }
            break;
            case null:
            return playerSelection;
        }
      }
    }

    const computerPlay = () => {
      let plays = ['rock', 'paper', 'scissors'];
      let computerSelection = plays[Math.floor(Math.random() * plays.length)];
    
      console.log(`The Computer played ${computerSelection}!`)
      return computerSelection;
    };

    const playerPlay = () => {
      let plays = ['rock', 'paper', 'scissors'];

    while(true) {
      let playerSelection = prompt("Rock, Paper or Scissors?");
     
      if (playerSelection === null ) {
        return playerSelection;
      }

      playerSelection = playerSelection.toLowerCase();
        if (plays.includes(playerSelection)) {
          console.log(`You played ${playerSelection}!`)
          return playerSelection;
        } else {
          alert(`Invalid play! Please input "Rock", "Paper" or "Scissors`);
          console.log(`Invalid play! Please input "Rock", "Paper" or "Scissors`)
        }
      }
    }

    game();

  </script>
  </body>
</html>